10 REM all digits on
20 OUT &H0A, 0
30 REM initialize counters and speeds
40 A1=0
50 A2=0
60 S1=1
70 S2=1
80 REM middle decimal point on
90 OUT &H08,(&HFF - &H10)


100 GOSUB 5000
110 GOSUB 6000
120 A1=A1+S1
130 A2=A2+S2
140 GOTO 100

5000 REM query buttons for speed setting
5010 B1=INP(&H0)
5012 B2=INP(&H2)
5014 B3=INP(&H4)
5020 IF (B1 and &H08)=0 THEN S1=0
5030 IF (B1 and &H80)=0 THEN S1=1
5040 IF (B2 and &H08)=0 THEN S1=4
5050 IF (B2 and &H80)=0 THEN S1=16
5060 IF (B3 and &H08)=0 THEN S1=64
5070 IF (B1 and &H01)=0 THEN S2=0
5080 IF (B1 and &H10)=0 THEN S2=1
5090 IF (B2 and &H01)=0 THEN S2=4
5100 IF (B2 and &H10)=0 THEN S2=16
5110 IF (B3 and &H01)=0 THEN S2=64
5120 RETURN

6000 REM display both counters
6010 X=A1
6020 GOSUB 7000
6030 OUT &H04, D0
6040 OUT &H06, D1
6050 X=A2
6060 GOSUB 7000
6070 OUT &H00, D0
6080 OUT &H02, D1
6090 RETURN

7000 REM compute digits from values in X
7050 D0=X\256
7060 X=X-(D0*256)
7070 D1=X
7080 RETURN
